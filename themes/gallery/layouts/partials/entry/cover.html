{{- $permalink := .Params -}}
{{- with .Params.cover -}}

  {{- $type := ( printf "%T" . ) -}}
  {{- $isMap := ( not ( eq $type "string" ) ) -}}

  <div class='entry-cover cover-{{- if $isMap -}}
    {{- with .style -}} {{ . }} {{- else -}} normal {{- end -}}
    {{- else -}} normal {{- end -}}
  '>

    <figure>
      <img src='{{ if $isMap }}{{ .image }}{{ else }}{{ . }}{{ end }}'
        {{- if $isMap }}
          {{- with ( .alternate | default .caption ) }} alt='{{ . | markdownify }}'{{ end -}}
        {{ end -}} />
      {{ if $isMap }}
        {{ with .caption }}
        <figcaption class='container'>
          <span>
            {{- . | markdownify -}}
          </span>
        </figcaption>
        {{ end }}
      {{ end }}
    </figure>
  </div>

{{- end -}}
